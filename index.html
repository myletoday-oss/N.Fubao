<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Learning: V·∫≠n Chuy·ªÉn C√°c Ch·∫•t Qua M√†ng Sinh Ch·∫•t</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* TƒÉng k√≠ch th∆∞·ªõc font ch·ªØ c∆° b·∫£n cho to√†n b·ªô trang */
        html {
            font-size: 20px; 
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #fdf2f8; /* pink-50 base */
            color: #1e293b;
            font-size: 22px; /* TƒÉng t·ª´ 18px l√™n 22px */
            overflow-x: hidden;
        }

        /* --- Vivid Background Blobs --- */
        .blob {
            position: absolute;
            filter: blur(60px);
            z-index: -1;
            opacity: 0.8;
            animation: float 10s infinite ease-in-out alternate;
        }
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(30px, 30px) rotate(10deg); }
        }
        .blob-1 { top: -10%; left: -10%; width: 600px; height: 600px; background: radial-gradient(circle, #f472b6, #fb7185); border-radius: 50%; animation-duration: 12s; }
        .blob-2 { bottom: -10%; right: -10%; width: 500px; height: 500px; background: radial-gradient(circle, #60a5fa, #3b82f6); border-radius: 40% 60% 70% 30%; animation-duration: 15s; animation-delay: -2s; }
        .blob-3 { top: 30%; left: 40%; width: 300px; height: 300px; background: radial-gradient(circle, #fbbf24, #f59e0b); border-radius: 60% 40% 30% 70%; animation-duration: 18s; animation-delay: -5s; opacity: 0.6; }

        /* --- Modern Cards --- */
        .card-pop {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border-radius: 24px;
            border: 2px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 10px 40px -10px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-pop:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 20px 50px -10px rgba(0,0,0,0.15);
            border-color: #fff;
        }

        /* --- Fun Typography & Elements --- */
        h1, h2, h3 { letter-spacing: -0.02em; }
        
        .badge-fun {
            padding: 6px 16px;
            border-radius: 99px;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .btn-fun {
            padding: 14px 28px;
            border-radius: 16px;
            font-weight: 700;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1); /* 3D effect */
        }
        .btn-fun:active { transform: translateY(4px); box-shadow: none; }

        /* --- Animations --- */
        .animate-bounce-slow { animation: bounce 3s infinite; }
        @keyframes bounce {
            0%, 100% { transform: translateY(-5%); }
            50% { transform: translateY(5%); }
        }

        /* Lab Specific */
        .molecule-particle { position: absolute; border-radius: 50%; transition: all 4s ease-in-out; z-index: 20; }
        .static-jitter { animation: jitter 0.5s infinite linear; } 
        @keyframes jitter { 
            0% { transform: translate(0, 0); } 25% { transform: translate(1px, 1px); } 
            50% { transform: translate(-1px, -1px); } 75% { transform: translate(-1px, 1px); } 100% { transform: translate(0, 0); } 
        }
        
        @keyframes morph-shrink {
            0% { transform: scale(1); }
            100% { transform: scale(0.7); }
        }
        
        .cell-crenated {
            clip-path: polygon(
                50% 0%, 61% 10%, 75% 5%, 85% 15%, 95% 10%, 90% 25%, 100% 35%, 90% 50%, 
                100% 65%, 90% 75%, 95% 90%, 80% 85%, 70% 95%, 60% 85%, 50% 100%, 40% 85%, 
                30% 95%, 20% 85%, 5% 90%, 10% 75%, 0% 65%, 10% 50%, 0% 35%, 10% 25%, 
                5% 10%, 15% 15%, 25% 5%, 39% 10%
            );
            background-color: #ef4444; 
            transition: clip-path 0.5s ease;
        }

        @keyframes swell-burst {
            0% { transform: scale(1); opacity: 1; border-color: rgba(255,255,255,0.2); }
            80% { transform: scale(1.5); opacity: 0.9; border-radius: 50%; background-color: #f87171; }
            90% { transform: scale(1.6); opacity: 0.5; }
            100% { transform: scale(2); opacity: 0; display: none; }
        }

        /* --- Nav Pill --- */
        .nav-pill {
            padding: 10px 18px;
            border-radius: 16px;
            font-weight: 700;
            color: #64748b;
            transition: all 0.2s;
            white-space: nowrap;
        }
        .nav-pill:hover { background: rgba(255,255,255,0.5); color: #db2777; } 
        .nav-pill.active {
            background: #db2777;
            color: white;
            box-shadow: 0 4px 15px rgba(219, 39, 119, 0.4);
            transform: scale(1.05);
        }
        
        /* Lab Button Style */
        .lab-btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.2s;
            cursor: pointer;
        }
        .lab-btn.active {
            background-color: #3b82f6;
            color: white;
        }
        .lab-btn:not(.active):hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden relative bg-[#fff0f5]">

    <!-- Vibrant Background -->
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>

    <!-- Header -->
    <header class="sticky top-0 z-50 px-4 py-3 backdrop-blur-md bg-white/40 border-b border-white/50">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-3 group">
                <div class="w-12 h-12 bg-gradient-to-br from-pink-500 to-rose-500 rounded-2xl flex items-center justify-center text-white text-2xl shadow-lg transform group-hover:rotate-12 transition-transform duration-300">
                    <i class="fas fa-dna"></i>
                </div>
                <div>
                    <h1 class="font-extrabold text-2xl text-slate-800 leading-none">Sinh H·ªçc 10</h1>
                    <p class="text-sm text-pink-600 font-bold uppercase tracking-wider mt-1">V·∫≠n chuy·ªÉn qua m√†ng sinh ch·∫•t</p>
                </div>
            </div>
            
            <!-- Nav -->
            <nav class="bg-white/60 p-1.5 rounded-2xl flex gap-1 overflow-x-auto max-w-full shadow-sm border border-white/60 backdrop-blur-sm">
                <button onclick="showSection('intro')" id="btn-intro" class="nav-pill active"><i class="fas fa-rocket mr-1"></i> Kh·ªüi ƒë·ªông</button>
                <button onclick="showSection('concept')" id="btn-concept" class="nav-pill"><i class="fas fa-brain mr-1"></i> Ki·∫øn th·ª©c</button>
                <button onclick="showSection('passive')" id="btn-passive" class="nav-pill"><i class="fas fa-wind mr-1"></i> V·∫≠n chuy·ªÉn</button>
                <button onclick="showSection('lab')" id="btn-lab" class="nav-pill"><i class="fas fa-flask mr-1"></i> PTN ·∫¢o</button>
                <button onclick="showSection('bulk')" id="btn-bulk" class="nav-pill"><i class="fas fa-truck-loading mr-1"></i> Nh·∫≠p/Xu·∫•t</button>
                <button onclick="showSection('practice')" id="btn-practice" class="nav-pill"><i class="fas fa-gamepad mr-1"></i> Luy·ªán t·∫≠p</button>
                <button onclick="showSection('apply')" id="btn-apply" class="nav-pill"><i class="fas fa-lightbulb mr-1"></i> V·∫≠n d·ª•ng</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex-1 overflow-y-auto relative scroll-smooth p-4 md:p-8" id="main-content">
        <div class="max-w-6xl mx-auto min-h-full pb-20">
            
            <!-- 1. INTRO SECTION -->
            <section id="sec-intro" class="animate-enter space-y-8">
                <div class="text-center relative">
                    <span class="badge-fun bg-gradient-to-r from-pink-500 to-rose-500 text-white">T√¨nh hu·ªëng m·ªü ƒë·∫ßu</span>
                    <h2 class="text-5xl md:text-6xl font-extrabold text-slate-800 mt-4 drop-shadow-sm">Th√≠ nghi·ªám <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-500 to-emerald-600">D∆∞a Leo</span></h2>
                    <p class="text-xl text-slate-600 mt-3 font-medium">T·∫°i sao khi mu·ªëi d∆∞a, c√† th√¨ s·∫£n ph·∫©m sau khi mu·ªëi l·∫°i c√≥ v·ªã m·∫∑n v√† b·ªã nhƒÉn nheo? ü§î</p>
                </div>

                <div class="card-pop p-8 md:p-12 border-white/80 bg-gradient-to-br from-white/90 to-pink-50/90">
                    <div class="flex flex-col md:flex-row gap-12 items-center justify-center mb-10">
                        <!-- Bowl 1 -->
                        <div class="text-center group cursor-pointer transform hover:scale-105 transition-transform duration-300" onclick="toggleObservation('bowl1')">
                            <div class="relative w-60 h-60 mx-auto">
                                <div class="absolute inset-0 bg-blue-300/30 rounded-full blur-2xl animate-pulse"></div>
                                <div class="relative w-full h-full bg-gradient-to-br from-blue-100 to-white rounded-full border-4 border-blue-200 shadow-xl flex items-center justify-center overflow-hidden">
                                    <!-- Placeholder for fresh cucumber -->
                                     <div class="w-36 h-36 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full border-[6px] border-green-600 flex items-center justify-center shadow-inner relative z-10 group-hover:rotate-6 transition-transform">
                                        <div class="w-28 h-28 bg-green-100/60 rounded-full border-2 border-green-300 flex items-center justify-center">
                                            <span class="text-4xl">üòé</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6">
                                <span class="badge-fun bg-blue-100 text-blue-700 border border-blue-200">B√°t 1: N∆∞·ªõc l·ªçc</span>
                                <div id="obs-bowl1" class="mt-3 hidden animate-fade-in">
                                    <div class="bg-white text-emerald-600 px-4 py-2 rounded-xl shadow-md font-bold border border-emerald-100 flex items-center justify-center gap-2">
                                        <i class="fas fa-check-circle text-xl"></i> T∆∞∆°i r√≥i, cƒÉng m·ªçng!
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Bowl 2 -->
                        <div class="text-center group cursor-pointer transform hover:scale-105 transition-transform duration-300" onclick="toggleObservation('bowl2')">
                            <div class="relative w-60 h-60 mx-auto">
                                <div class="absolute inset-0 bg-orange-300/30 rounded-full blur-2xl animate-pulse"></div>
                                <div class="relative w-full h-full bg-gradient-to-br from-orange-100 to-white rounded-full border-4 border-orange-200 shadow-xl flex items-center justify-center overflow-hidden">
                                    <!-- Placeholder for shriveled cucumber -->
                                    <div class="w-28 h-28 bg-green-600 rounded-[30%_70%_70%_30%_/_30%_30%_70%_70%] border-[6px] border-green-800 flex items-center justify-center shadow-inner relative z-10 group-hover:-rotate-6 transition-transform">
                                        <span class="text-4xl">üòµ</span>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6">
                                <span class="badge-fun bg-orange-100 text-orange-700 border border-orange-200">B√°t 2: N∆∞·ªõc mu·ªëi</span>
                                <div id="obs-bowl2" class="mt-3 hidden animate-fade-in">
                                    <div class="bg-white text-orange-600 px-4 py-2 rounded-xl shadow-md font-bold border border-orange-100 flex items-center justify-center gap-2">
                                        <i class="fas fa-sad-tear text-xl"></i> NhƒÉn nheo, teo nh·ªè
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white/60 rounded-3xl p-6 border border-white/60 shadow-inner max-w-3xl mx-auto">
                        <h3 class="font-extrabold text-2xl text-slate-800 mb-4 flex items-center gap-3">
                            <span class="bg-yellow-400 text-white w-10 h-10 rounded-xl flex items-center justify-center shadow-sm transform -rotate-6"><i class="fas fa-comment-dots"></i></span> 
                            Th·∫£o lu·∫≠n
                        </h3>
                        <div class="space-y-3">
                            <div class="flex gap-4 items-center bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                                <div class="bg-indigo-100 text-indigo-600 font-black w-8 h-8 rounded-lg flex items-center justify-center text-lg">1</div>
                                <p class="text-slate-700 font-semibold text-lg">T·∫°i sao d∆∞a leo ng√¢m n∆∞·ªõc mu·ªëi l·∫°i b·ªã nhƒÉn nheo?</p>
                            </div>
                            <div class="flex gap-4 items-center bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                                <div class="bg-indigo-100 text-indigo-600 font-black w-8 h-8 rounded-lg flex items-center justify-center text-lg">2</div>
                                <p class="text-slate-700 font-semibold text-lg">ƒêi·ªÅu g√¨ x·∫£y ra v·ªõi c√°c ph√¢n t·ª≠ n∆∞·ªõc b√™n trong t·∫ø b√†o d∆∞a leo?</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 2. CONCEPT SECTION -->
            <section id="sec-concept" class="hidden space-y-10 animate-enter">
                <div class="text-center">
                    <span class="badge-fun bg-indigo-100 text-indigo-700">Ki·∫øn th·ª©c (SGK tr.56)</span>
                    <h2 class="text-4xl font-extrabold text-slate-800 mt-3">Trao ƒë·ªïi ch·∫•t ·ªü t·∫ø b√†o</h2>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8 items-stretch">
                    <!-- Left Column: Metabolism -->
                    <div class="card-pop p-8 bg-gradient-to-br from-white to-blue-50 hover:border-blue-200 flex flex-col">
                        <div class="w-16 h-16 bg-gradient-to-tr from-blue-400 to-cyan-400 rounded-2xl flex items-center justify-center text-3xl text-white shadow-lg mb-6 transform -rotate-6">
                            <i class="fas fa-random"></i>
                        </div>
                        <h3 class="font-extrabold text-2xl mb-3 text-slate-800">1. Chuy·ªÉn ho√° v·∫≠t ch·∫•t & NƒÉng l∆∞·ª£ng</h3>
                        <div class="text-slate-600 font-medium text-lg space-y-3 flex-1">
                            <div class="bg-white p-5 rounded-xl shadow-sm border border-blue-100 h-full">
                                <p class="mb-3">L√† t·∫≠p h·ª£p t·∫•t c·∫£ c√°c ph·∫£n ·ª©ng sinh ho√° di·ªÖn ra b√™n trong t·∫ø b√†o.</p>
                                <ul class="list-none space-y-3 text-base">
                                    <li class="bg-blue-50 p-2 rounded-lg border border-blue-100">
                                        <strong class="text-blue-700">üîπ ƒê·ªìng ho√°:</strong> T·ªïng h·ª£p ch·∫•t ph·ª©c t·∫°p t·ª´ ch·∫•t ƒë∆°n gi·∫£n, t√≠ch lu·ªπ nƒÉng l∆∞·ª£ng.
                                    </li>
                                    <li class="bg-blue-50 p-2 rounded-lg border border-blue-100">
                                        <strong class="text-blue-700">üî∏ D·ªã ho√°:</strong> Ph√¢n gi·∫£i ch·∫•t ph·ª©c t·∫°p th√†nh ch·∫•t ƒë∆°n gi·∫£n, gi·∫£i ph√≥ng nƒÉng l∆∞·ª£ng.
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Transport & Meaning -->
                    <div class="card-pop p-8 bg-gradient-to-br from-white to-emerald-50 hover:border-emerald-200 flex flex-col">
                        <div class="w-16 h-16 bg-gradient-to-tr from-emerald-400 to-green-500 rounded-2xl flex items-center justify-center text-3xl text-white shadow-lg mb-6 transform rotate-6">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h3 class="font-extrabold text-2xl mb-3 text-slate-800">2. Trao ƒë·ªïi qua m√†ng & √ù nghƒ©a</h3>
                        <div class="text-slate-600 font-medium text-lg space-y-4 flex-1">
                            <div class="bg-white p-4 rounded-xl shadow-sm border border-emerald-100">
                                <strong class="text-emerald-700 block mb-1">Trao ƒë·ªïi ch·∫•t qua m√†ng sinh ch·∫•t:</strong>
                                <p class="text-base">Qu√° tr√¨nh v·∫≠n chuy·ªÉn c√≥ ch·ªçn l·ªçc c√°c ch·∫•t gi·ªØa t·∫ø b√†o v√† m√¥i tr∆∞·ªùng b√™n ngo√†i.</p>
                            </div>
                            
                            <div class="bg-emerald-100/60 p-4 rounded-xl shadow-sm border border-emerald-200 mt-auto">
                                <strong class="text-emerald-800 block mb-1 flex items-center gap-2"><i class="fas fa-star text-yellow-500"></i> √ù nghƒ©a:</strong>
                                <p class="text-base font-semibold">Gi√∫p t·∫ø b√†o duy tr√¨ c√°c ho·∫°t ƒë·ªông s·ªëng, sinh tr∆∞·ªüng, ph√°t tri·ªÉn v√† c·∫£m ·ª©ng.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3. TRANSPORT SECTION -->
            <section id="sec-passive" class="hidden space-y-10 animate-enter">
                <div class="text-center">
                    <h2 class="text-4xl font-extrabold text-slate-800">V·∫≠n chuy·ªÉn c√°c ch·∫•t qua m√†ng sinh ch·∫•t</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Passive Card -->
                    <div class="card-pop p-0 overflow-hidden border-0">
                        <div class="h-72 bg-gradient-to-br from-green-400 to-teal-500 relative p-6 flex flex-col justify-end">
                            <div class="absolute top-4 right-4 text-white/30 text-8xl transform rotate-12"><i class="fas fa-leaf"></i></div>
                            <span class="badge-fun bg-white/20 text-white backdrop-blur w-fit mb-2">Kh√¥ng t·ªën nƒÉng l∆∞·ª£ng</span>
                            <h3 class="text-3xl font-black text-white">V·∫≠n chuy·ªÉn th·ª• ƒë·ªông</h3>
                        </div>
                        <div class="p-6 bg-white">
                            <ul class="space-y-4 text-lg text-slate-700 font-medium">
                                <li class="flex items-start gap-3">
                                    <i class="fas fa-info-circle text-green-500 text-xl mt-1"></i> 
                                    <span>L√† ph∆∞∆°ng th·ª©c v·∫≠n chuy·ªÉn c√°c ch·∫•t t·ª´ n∆°i c√≥ <strong>n·ªìng ƒë·ªô cao</strong> sang n∆°i c√≥ <strong>n·ªìng ƒë·ªô th·∫•p</strong>.</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <i class="fas fa-battery-empty text-green-500 text-xl"></i> 
                                    <span><strong>Kh√¥ng ti√™u t·ªën nƒÉng l∆∞·ª£ng</strong>.</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <i class="fas fa-road text-green-500 text-xl mt-1"></i> 
                                    <div>
                                        <strong>Con ƒë∆∞·ªùng:</strong>
                                        <ul class="list-disc pl-5 text-base mt-1 text-slate-600">
                                            <li><strong>Khu·∫øch t√°n tr·ª±c ti·∫øp:</strong> qua l·ªõp k√©p phospholipid (ch·∫•t nh·ªè, kh√¥ng ph√¢n c·ª±c, tan trong lipid).</li>
                                            <li><strong>Qua k√™nh protein:</strong> (ch·∫•t l·ªõn, ph√¢n c·ª±c, tan trong n∆∞·ªõc).</li>
                                            <li><strong>Th·∫©m th·∫•u:</strong> N∆∞·ªõc qua m√†ng nh·ªù k√™nh protein ƒë·∫∑c bi·ªát (aquaporin).</li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                            <div class="mt-4 text-center">
                                <!-- ƒê·ªîI ƒê∆Ø·ªúNG D·∫™N ·∫¢NH T·∫†I ƒê√ÇY -->
                                <img src="./img/1.jpg" onerror="this.src='https://images.unsplash.com/photo-1530210124550-912dc1381cb8?q=80&w=2070&auto=format&fit=crop'" alt="V·∫≠n chuy·ªÉn th·ª• ƒë·ªông" class="rounded-xl w-full h-64 object-cover shadow-md border-2 border-slate-100">
                                <p class="text-sm text-slate-400 mt-2 italic">(File: img/1.jpg)</p>
                            </div>
                        </div>
                    </div>

                    <!-- Active Card -->
                    <div class="card-pop p-0 overflow-hidden border-0">
                        <div class="h-72 bg-gradient-to-br from-orange-400 to-red-500 relative p-6 flex flex-col justify-end">
                            <div class="absolute top-4 right-4 text-white/30 text-8xl transform -rotate-12"><i class="fas fa-fire"></i></div>
                            <span class="badge-fun bg-white/20 text-white backdrop-blur w-fit mb-2">Ti√™u t·ªën nƒÉng l∆∞·ª£ng</span>
                            <h3 class="text-3xl font-black text-white">V·∫≠n chuy·ªÉn ch·ªß ƒë·ªông</h3>
                        </div>
                        <div class="p-6 bg-white">
                            <ul class="space-y-4 text-lg text-slate-700 font-medium">
                                <li class="flex items-start gap-3">
                                    <i class="fas fa-info-circle text-red-500 text-xl mt-1"></i> 
                                    <span>L√† ph∆∞∆°ng th·ª©c v·∫≠n chuy·ªÉn c√°c ch·∫•t t·ª´ n∆°i c√≥ <strong>n·ªìng ƒë·ªô ch·∫•t tan th·∫•p</strong> sang n∆°i c√≥ <strong>n·ªìng ƒë·ªô cao</strong> (ng∆∞·ª£c chi·ªÅu gradient n·ªìng ƒë·ªô).</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <i class="fas fa-bolt text-red-500 text-xl"></i> 
                                    <span><strong>Ti√™u t·ªën nƒÉng l∆∞·ª£ng</strong> (ATP).</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <i class="fas fa-cogs text-red-500 text-xl"></i> 
                                    <span><strong>C·∫ßn:</strong> Protein v·∫≠n chuy·ªÉn (b∆°m protein).</span>
                                </li>
                            </ul>
                             <div class="mt-4 text-center">
                                <!-- ƒê·ªîI ƒê∆Ø·ªúNG D·∫™N ·∫¢NH T·∫†I ƒê√ÇY -->
                                <img src="./img/2.jpg" onerror="this.src='https://images.unsplash.com/photo-1532094349884-543bc11b234d?q=80&w=2070&auto=format&fit=crop'" alt="V·∫≠n chuy·ªÉn ch·ªß ƒë·ªông" class="rounded-xl w-full h-64 object-cover shadow-md border-2 border-slate-100">
                                <p class="text-sm text-slate-400 mt-2 italic">(File: img/2.jpg)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 4. LAB SECTION -->
            <section id="sec-lab" class="hidden min-h-[800px] flex-col animate-enter">
                <div class="card-pop p-0 overflow-hidden flex flex-col h-full shadow-2xl border-0 bg-[#1e293b]">
                    
                    <!-- Controls Header -->
                    <div class="bg-slate-800 p-4 flex flex-col md:flex-row justify-between items-center gap-4 border-b border-slate-700">
                        <h2 class="text-2xl font-black text-white flex items-center gap-3">
                            <span class="text-pink-500"><i class="fas fa-microscope"></i></span> PTN ·∫¢o
                        </h2>
                        <div class="flex gap-2 bg-slate-900 p-1 rounded-xl overflow-x-auto max-w-full">
                            <button onclick="switchLabTab('diffusion')" id="tab-diffusion" class="lab-btn active text-sm text-white"><i class="fas fa-wind"></i> Khu·∫øch t√°n</button>
                            <button onclick="switchLabTab('osmosis-basic')" id="tab-osmosis-basic" class="lab-btn text-sm text-slate-400"><i class="fas fa-tint"></i> Th·∫©m th·∫•u</button>
                            <button onclick="switchLabTab('osmosis-cell')" id="tab-osmosis-cell" class="lab-btn text-sm text-slate-400"><i class="fas fa-circle"></i> T·∫ø b√†o</button>
                        </div>
                    </div>

                    <!-- Viewport -->
                    <div class="flex-1 relative flex flex-col lg:flex-row">
                        
                        <!-- Controls -->
                        <div class="w-full lg:w-80 bg-slate-800 p-6 flex flex-col gap-6 z-20 border-r border-slate-700 text-white">
                            
                            <!-- DIFFUSION -->
                            <div id="ctrl-diffusion" class="space-y-6">
                                <div>
                                    <h3 class="text-xl font-bold text-teal-400">Khu·∫øch t√°n</h3>
                                    <p class="text-slate-400 text-sm">S·ª± di chuy·ªÉn c·ªßa ch·∫•t tan</p>
                                </div>
                                <div class="bg-slate-700/50 p-4 rounded-xl border border-slate-600 text-sm text-slate-300">
                                    <strong>Nguy√™n l√Ω:</strong> Ch·∫•t tan di chuy·ªÉn t·ª´ n∆°i n·ªìng ƒë·ªô cao sang n∆°i n·ªìng ƒë·ªô th·∫•p ƒë·∫øn khi ƒë·∫°t c√¢n b·∫±ng ƒë·ªông.
                                </div>
                                <button onclick="runDiffusion()" class="w-full btn-fun bg-teal-500 hover:bg-teal-400 text-white shadow-[0_4px_0_#0f766e] active:shadow-none active:translate-y-[4px]"><i class="fas fa-play"></i> B·∫Øt ƒë·∫ßu</button>
                                <button onclick="resetDiffusion()" class="w-full btn-fun bg-slate-600 hover:bg-slate-500 text-white shadow-[0_4px_0_#334155] active:shadow-none active:translate-y-[4px]"><i class="fas fa-undo"></i> X·∫øp l·∫°i</button>
                            </div>

                            <!-- OSMOSIS BASIC -->
                            <div id="ctrl-osmosis-basic" class="hidden space-y-6">
                                <div>
                                    <h3 class="text-xl font-bold text-blue-400">Th·∫©m th·∫•u</h3>
                                    <p class="text-slate-400 text-sm">S·ª± v·∫≠n chuy·ªÉn c·ªßa n∆∞·ªõc</p>
                                </div>
                                <div class="bg-slate-700/50 p-4 rounded-xl border border-slate-600 text-sm text-slate-300">
                                    <strong>Nguy√™n l√Ω:</strong> N∆∞·ªõc th·∫©m th·∫•u t·ª´ n∆°i th·∫ø n∆∞·ªõc cao (√≠t ch·∫•t tan) sang n∆°i th·∫ø n∆∞·ªõc th·∫•p (nhi·ªÅu ch·∫•t tan).
                                </div>
                                <button onclick="runOsmosisBasic()" class="w-full btn-fun bg-blue-500 hover:bg-blue-400 text-white shadow-[0_4px_0_#1e40af] active:shadow-none active:translate-y-[4px]"><i class="fas fa-eye"></i> Quan s√°t</button>
                                <button onclick="resetOsmosisBasic()" class="w-full btn-fun bg-slate-600 hover:bg-slate-500 text-white shadow-[0_4px_0_#334155] active:shadow-none active:translate-y-[4px]"><i class="fas fa-undo"></i> L√†m l·∫°i</button>
                            </div>

                            <!-- OSMOSIS CELL -->
                            <div id="ctrl-osmosis-cell" class="hidden space-y-4">
                                <div>
                                    <h3 class="text-xl font-bold text-pink-400">M√¥i tr∆∞·ªùng & T·∫ø b√†o</h3>
                                    <p class="text-slate-400 text-sm">·∫¢nh h∆∞·ªüng c·ªßa n·ªìng ƒë·ªô ch·∫•t tan (SGK tr.58):</p>
                                </div>
                                <div class="grid gap-3">
                                    <button onclick="runLab('hyper')" class="p-3 rounded-xl bg-slate-700 hover:bg-slate-600 transition text-left border border-slate-600 hover:border-orange-400 group">
                                        <div class="font-bold text-orange-400 group-hover:text-orange-300">1. ∆Øu tr∆∞∆°ng</div>
                                        <div class="text-xs text-slate-400">N·ªìng ƒë·ªô ch·∫•t tan MT > trong TB</div>
                                    </button>
                                    <button onclick="runLab('iso')" class="p-3 rounded-xl bg-slate-700 hover:bg-slate-600 transition text-left border border-slate-600 hover:border-green-400 group">
                                        <div class="font-bold text-green-400 group-hover:text-green-300">2. ƒê·∫≥ng tr∆∞∆°ng</div>
                                        <div class="text-xs text-slate-400">N·ªìng ƒë·ªô ch·∫•t tan MT = trong TB</div>
                                    </button>
                                    <button onclick="runLab('hypo')" class="p-3 rounded-xl bg-slate-700 hover:bg-slate-600 transition text-left border border-slate-600 hover:border-blue-400 group">
                                        <div class="font-bold text-blue-400 group-hover:text-blue-300">3. Nh∆∞·ª£c tr∆∞∆°ng</div>
                                        <div class="text-xs text-slate-400">N·ªìng ƒë·ªô ch·∫•t tan MT < trong TB</div>
                                    </button>
                                </div>
                                <div id="lab-result" class="p-4 rounded-xl bg-slate-900/80 text-white text-sm hidden border-l-4 border-pink-500"></div>
                            </div>
                        </div>

                        <!-- Canvas (Dark Mode for Contrast) -->
                        <div class="flex-1 relative overflow-hidden flex items-center justify-center p-8 bg-[#0f172a]">
                            <!-- Particles Background -->
                            <div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"></div>

                            <!-- 1. Diffusion View -->
                            <div id="view-diffusion" class="relative w-full max-w-2xl h-[400px] border-4 border-slate-600/50 rounded-3xl bg-slate-800/50 backdrop-blur flex shadow-2xl">
                                <div class="w-1/2 h-full border-r-2 border-dashed border-slate-600 flex flex-col justify-end items-center pb-4">
                                    <span id="diff-label-left" class="text-teal-300 font-bold text-xs uppercase bg-teal-900/50 px-3 py-1 rounded-full border border-teal-500/30">N·ªìng ƒë·ªô Cao</span>
                                </div>
                                <div class="w-1/2 h-full flex flex-col justify-end items-center pb-4">
                                    <span id="diff-label-right" class="text-blue-300 font-bold text-xs uppercase bg-blue-900/50 px-3 py-1 rounded-full border border-blue-500/30">N·ªìng ƒë·ªô Th·∫•p</span>
                                </div>
                                <div id="diffusion-particles" class="absolute inset-0 pointer-events-none z-10"></div>
                                
                                <!-- Annotation -->
                                <div class="absolute top-4 left-4 z-30 flex items-center gap-2 animate-bounce-slow">
                                    <div class="bg-green-400 w-4 h-4 rounded-full shadow-[0_0_10px_#4ade80]"></div>
                                    <span class="text-white text-xs font-bold bg-black/50 px-2 py-1 rounded">Ch·∫•t tan</span>
                                </div>
                            </div>

                            <!-- 2. Osmosis Basic View -->
                            <div id="view-osmosis-basic" class="hidden relative w-[450px] h-[350px]">
                                <div class="w-full h-full border-x-4 border-b-4 border-slate-500/50 rounded-b-[2rem] bg-slate-700/30 backdrop-blur relative overflow-hidden">
                                    <div class="absolute inset-y-0 left-1/2 w-1 -translate-x-1/2 border-l-2 border-dashed border-red-400 z-20 h-full"></div>
                                    
                                    <div id="water-left-beaker" class="absolute bottom-0 left-0 w-1/2 bg-blue-500/60 transition-all duration-[3s] ease-in-out border-r border-white/10 z-10" style="height: 180px;">
                                        <div class="absolute top-0 w-full h-1 bg-blue-300/50"></div>
                                        <div id="solutes-left-beaker" class="absolute inset-0 pointer-events-none"></div>
                                    </div>
                                    <div id="water-right-beaker" class="absolute bottom-0 right-0 w-1/2 bg-blue-500/60 transition-all duration-[3s] ease-in-out border-l border-white/10 z-10" style="height: 180px;">
                                        <div class="absolute top-0 w-full h-1 bg-blue-300/50"></div>
                                        <div id="solutes-right-beaker" class="absolute inset-0 pointer-events-none"></div>
                                    </div>
                                    
                                    <div id="osmosis-arrow" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-6xl font-bold opacity-0 transition-opacity duration-1000 z-30 drop-shadow-[0_0_10px_#3b82f6]">
                                        <i class="fas fa-arrow-right"></i>
                                    </div>
                                </div>
                                <!-- Annotations -->
                                <div class="absolute -top-8 left-1/2 -translate-x-1/2 flex flex-col items-center">
                                    <div class="text-white text-xs font-bold bg-red-500 px-2 py-1 rounded mb-1">M√†ng b√°n th·∫•m</div>
                                    <div class="w-px h-8 bg-red-400 border-l border-dashed border-white"></div>
                                </div>
                                <div class="absolute bottom-10 right-4 flex items-center gap-2">
                                    <div class="w-4 h-4 bg-green-400 rounded-full opacity-80"></div>
                                    <span class="text-white text-xs font-bold">Ch·∫•t tan</span>
                                </div>
                                <div class="absolute bottom-4 left-4 flex items-center gap-2">
                                    <div class="w-4 h-4 bg-blue-300 rounded-full opacity-50"></div>
                                    <span class="text-white text-xs font-bold">N∆∞·ªõc</span>
                                </div>
                            </div>

                            <!-- 3. Osmosis Cell View -->
                            <div id="view-osmosis-cell" class="hidden relative w-full h-full flex items-center justify-center">
                                <div id="molecules-layer" class="absolute inset-0 pointer-events-none z-30"></div>
                                <div class="absolute w-[400px] h-[400px] rounded-full border border-white/5 bg-white/5 pointer-events-none z-0"></div>
                                <div id="arrows-container" class="absolute inset-0 z-20 pointer-events-none flex items-center justify-center"></div>
                                
                                <!-- Added Legend for Cell View -->
                                <div class="absolute top-4 left-4 z-40 flex flex-col gap-3 pointer-events-none">
                                     <div class="flex items-center gap-3 bg-slate-800/60 backdrop-blur px-3 py-2 rounded-xl border border-white/10">
                                         <div class="w-5 h-5 bg-green-500 rounded-full shadow-[0_0_5px_#22c55e] border border-white/20"></div>
                                         <span class="text-white text-sm font-bold">Ch·∫•t tan</span>
                                     </div>
                                     <div class="flex items-center gap-3 bg-slate-800/60 backdrop-blur px-3 py-2 rounded-xl border border-white/10">
                                         <div class="w-3 h-3 bg-blue-400 rounded-full shadow-sm"></div>
                                         <span class="text-white text-sm font-bold">N∆∞·ªõc</span>
                                     </div>
                                </div>

                                <div id="cell-wrapper" class="relative w-48 h-48 flex items-center justify-center z-10 transition-all duration-1000">
                                    <div id="cell-normal" class="absolute inset-0 bg-red-600 rounded-full shadow-[0_0_30px_rgba(220,38,38,0.6)] flex items-center justify-center border-4 border-red-400/50 overflow-hidden transition-all duration-1000">
                                        <div class="text-red-900 text-4xl font-black opacity-30">TB</div>
                                    </div>
                                     <div id="cell-crenated-bg" class="absolute inset-0 bg-red-800 shadow-lg hidden"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>

            <!-- 5. BULK TRANSPORT -->
            <section id="sec-bulk" class="hidden space-y-10 animate-enter">
                <div class="text-center">
                    <span class="badge-fun bg-purple-100 text-purple-700">V·∫≠n chuy·ªÉn ƒë·∫°i ph√¢n t·ª≠</span>
                    <h2 class="text-4xl font-extrabold text-slate-800 mt-3">Nh·∫≠p b√†o & Xu·∫•t b√†o</h2>
                    <p class="text-slate-600 font-medium mt-2">Th√¥ng qua s·ª± bi·∫øn d·∫°ng c·ªßa m√†ng sinh ch·∫•t</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="card-pop p-8 border-t-4 border-purple-500">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-14 h-14 rounded-2xl bg-purple-100 text-purple-600 flex items-center justify-center text-3xl"><i class="fas fa-people-carry"></i></div>
                            <h3 class="font-bold text-3xl text-purple-900">Nh·∫≠p b√†o</h3>
                        </div>
                        <div class="space-y-4 text-lg text-slate-600 font-medium">
                            <p>V·∫≠n chuy·ªÉn c√°c ch·∫•t v√†o trong t·∫ø b√†o th√¥ng qua s·ª± bi·∫øn d·∫°ng c·ªßa m√†ng sinh ch·∫•t.</p>
                            <div class="grid gap-3">
                                <div class="bg-purple-50 p-4 rounded-xl border border-purple-100">
                                    <strong class="text-purple-700 block">üçî Th·ª±c b√†o:</strong> T·∫ø b√†o ƒë·ªông v·∫≠t "ƒÉn" c√°c t·∫ø b√†o kh√°c (vi khu·∫©n) ho·∫∑c m·∫£nh v·ª° t·∫ø b√†o.
                                </div>
                                <div class="bg-purple-50 p-4 rounded-xl border border-purple-100">
                                    <strong class="text-purple-700 block">ü•§ ·∫®m b√†o:</strong> T·∫ø b√†o u·ªëng c√°c gi·ªçt d·ªãch nh·ªè.
                                </div>
                            </div>
                        </div>
                         <div class="mt-6 text-center">
                            <!-- ƒê·ªîI ƒê∆Ø·ªúNG D·∫™N ·∫¢NH T·∫†I ƒê√ÇY -->
                            <img src="./img/3.jpg" onerror="this.src='https://images.unsplash.com/photo-1576086213369-97a306d36557?q=80&w=2080&auto=format&fit=crop'" alt="Nh·∫≠p b√†o" class="rounded-xl w-full h-64 object-cover shadow-md border-2 border-slate-100">
                            <p class="text-sm text-slate-400 mt-2 italic">(File: img/3.jpg)</p>
                        </div>
                    </div>

                    <div class="card-pop p-8 border-t-4 border-orange-500">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-14 h-14 rounded-2xl bg-orange-100 text-orange-600 flex items-center justify-center text-3xl"><i class="fas fa-shipping-fast"></i></div>
                            <h3 class="font-bold text-3xl text-orange-900">Xu·∫•t b√†o</h3>
                        </div>
                        <p class="text-slate-600 font-medium text-lg mb-4">V·∫≠n chuy·ªÉn c√°c ch·∫•t ra kh·ªèi t·∫ø b√†o th√¥ng qua s·ª± bi·∫øn d·∫°ng c·ªßa m√†ng sinh ch·∫•t.</p>
                        <div class="text-slate-600">
                            V·∫≠n chuy·ªÉn c√°c s·∫£n ph·∫©m c·ªßa t·∫ø b√†o (hormone, kh√°ng th·ªÉ,...) ra kh·ªèi t·∫ø b√†o.
                        </div>
                         <div class="mt-6 text-center">
                            <!-- ƒê·ªîI ƒê∆Ø·ªúNG D·∫™N ·∫¢NH T·∫†I ƒê√ÇY -->
                            <img src="./img/4.jpg" onerror="this.src='https://images.unsplash.com/photo-1559757175-5700dde675bc?q=80&w=2070&auto=format&fit=crop'" alt="Xu·∫•t b√†o" class="rounded-xl w-full h-64 object-cover shadow-md border-2 border-slate-100">
                            <p class="text-sm text-slate-400 mt-2 italic">(File: img/4.jpg)</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 6. PRACTICE SECTION -->
            <section id="sec-practice" class="hidden max-w-4xl mx-auto animate-enter">
                <div class="card-pop p-10 bg-gradient-to-br from-yellow-50 to-amber-50 border-amber-200 relative overflow-hidden">
                    <div class="absolute top-0 right-0 text-9xl opacity-10 transform rotate-12 text-amber-500"><i class="fas fa-pen-alt"></i></div>
                    
                    <h2 class="text-4xl font-extrabold text-slate-800 mb-8 relative z-10">
                        <span class="text-amber-500 mr-2">üìù</span> ƒêi·ªÅn t·ª´ v√†o ch·ªó tr·ªëng
                    </h2>
                    
                    <div class="text-2xl leading-loose text-slate-700 font-semibold relative z-10 bg-white/60 p-8 rounded-2xl border border-amber-100">
                        "V·∫≠n chuy·ªÉn th·ª• ƒë·ªông ƒëi t·ª´ n∆°i c√≥ n·ªìng ƒë·ªô 
                        <select id="q1" class="border-b-4 border-amber-400 bg-transparent text-amber-700 font-bold outline-none px-2 cursor-pointer hover:bg-amber-100 rounded transition text-center min-w-[80px]">
                            <option value="">...</option><option value="cao">cao</option><option value="th·∫•p">th·∫•p</option>
                        </select> 
                        sang n∆°i c√≥ n·ªìng ƒë·ªô 
                        <select id="q2" class="border-b-4 border-amber-400 bg-transparent text-amber-700 font-bold outline-none px-2 cursor-pointer hover:bg-amber-100 rounded transition text-center min-w-[80px]">
                            <option value="">...</option><option value="cao">cao</option><option value="th·∫•p">th·∫•p</option>
                        </select>. 
                        Ng∆∞·ª£c l·∫°i, v·∫≠n chuy·ªÉn 
                        <select id="q3" class="border-b-4 border-amber-400 bg-transparent text-amber-700 font-bold outline-none px-2 cursor-pointer hover:bg-amber-100 rounded transition text-center min-w-[150px]">
                            <option value="">...</option><option value="ch·ªß ƒë·ªông">ch·ªß ƒë·ªông</option><option value="th·ª• ƒë·ªông">th·ª• ƒë·ªông</option>
                        </select> 
                        th√¨ c·∫ßn ATP. N∆∞·ªõc lu√¥n th·∫©m th·∫•u t·ª´ n∆°i c√≥ th·∫ø n∆∞·ªõc 
                        <select id="q4" class="border-b-4 border-amber-400 bg-transparent text-amber-700 font-bold outline-none px-2 cursor-pointer hover:bg-amber-100 rounded transition text-center min-w-[150px]">
                            <option value="">...</option><option value="cao">cao</option><option value="th·∫•p">th·∫•p</option>
                        </select> 
                        sang n∆°i c√≥ th·∫ø n∆∞·ªõc th·∫•p."
                    </div>
                    
                    <div class="mt-8 flex items-center justify-between relative z-10">
                        <div id="quiz-feedback" class="hidden text-xl font-bold px-6 py-3 rounded-xl shadow-lg bg-white border animate-bounce-slow"></div>
                        <button onclick="checkQuiz()" class="btn-fun bg-amber-500 hover:bg-amber-400 text-white text-xl shadow-[0_6px_0_#b45309] active:translate-y-[6px] active:shadow-none">
                            <i class="fas fa-check-circle"></i> Ch·∫•m ƒëi·ªÉm
                        </button>
                    </div>
                </div>
            </section>

            <!-- 7. APPLY SECTION -->
            <section id="sec-apply" class="hidden animate-enter">
                <div class="max-w-5xl mx-auto card-pop p-10 min-h-[600px] flex flex-col justify-center relative overflow-hidden bg-gradient-to-b from-white to-orange-50">
                    
                    <div id="apply-slide-1" class="transition-all duration-500 text-center">
                        <div class="inline-block p-6 bg-orange-100 rounded-full text-7xl mb-6 shadow-inner animate-bounce-slow">ü•í</div>
                        <h2 class="text-5xl font-black text-slate-800">Gi·∫£i m√£ "Mu·ªëi D∆∞a"</h2>
                        <p class="text-orange-600 mt-4 font-bold italic text-2xl">"T·∫°i sao mu·ªëi d∆∞a l·∫°i b·ªã teo t√≥p?"</p>
                        
                        <div class="mt-10 bg-white p-8 rounded-2xl shadow-sm border border-orange-200 text-left max-w-3xl mx-auto transform hover:rotate-1 transition duration-300">
                            <strong class="text-orange-700 block mb-2 text-2xl flex items-center gap-3"><i class="fas fa-search"></i> Hi·ªán t∆∞·ª£ng:</strong>
                            <span class="text-slate-700 text-2xl font-medium">T·∫ø b√†o b·ªã m·∫•t n∆∞·ªõc (Co nguy√™n sinh) n√™n teo l·∫°i v√† dai h∆°n.</span>
                        </div>
                        
                        <div class="mt-10">
                            <button onclick="toggleApplySlide(2)" class="btn-fun bg-orange-500 hover:bg-orange-400 text-white text-xl shadow-[0_6px_0_#c2410c] active:translate-y-[6px] active:shadow-none">
                                Xem th·ªß ph·∫°m <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div id="apply-slide-2" class="hidden transition-all duration-500 relative">
                        <button onclick="toggleApplySlide(1)" class="absolute top-0 left-0 text-slate-400 hover:text-orange-500 text-lg font-bold transition flex items-center gap-2"><i class="fas fa-arrow-left"></i> Quay l·∫°i</button>
                        
                        <div class="text-center mb-8">
                            <h2 class="text-4xl font-black text-slate-800 mt-8">C∆° ch·∫ø Th·∫©m th·∫•u</h2>
                        </div>
                        
                        <div class="grid gap-6 max-w-4xl mx-auto">
                            <div class="bg-orange-50 p-6 rounded-2xl border border-orange-200 flex items-center gap-6 transform hover:-translate-y-1 transition">
                                <span class="text-5xl">üåä</span>
                                <div>
                                    <h3 class="text-xl font-bold text-orange-800">1. M√¥i tr∆∞·ªùng ∆Øu tr∆∞∆°ng</h3>
                                    <p class="text-slate-600">N·ªìng ƒë·ªô ch·∫•t tan trong n∆∞·ªõc mu·ªëi cao h∆°n trong t·∫ø b√†o d∆∞a.</p>
                                </div>
                            </div>
                            <div class="bg-blue-50 p-6 rounded-2xl border border-blue-200 flex items-center gap-6 transform hover:-translate-y-1 transition">
                                <span class="text-5xl">üèÉ</span>
                                <div>
                                    <h3 class="text-xl font-bold text-blue-800">2. N∆∞·ªõc ƒëi ra</h3>
                                    <p class="text-slate-600">N∆∞·ªõc t·ª´ n∆°i th·∫ø n∆∞·ªõc cao (trong t·∫ø b√†o) sang n∆°i th·∫ø n∆∞·ªõc th·∫•p (m√¥i tr∆∞·ªùng).</p>
                                </div>
                            </div>
                            <div class="bg-green-50 p-6 rounded-2xl border border-green-200 flex items-center gap-6 transform hover:-translate-y-1 transition">
                                <span class="text-5xl">üìâ</span>
                                <div>
                                    <h3 class="text-xl font-bold text-green-800">3. K·∫øt qu·∫£</h3>
                                    <p class="text-slate-600">T·∫ø b√†o m·∫•t n∆∞·ªõc g√¢y co nguy√™n sinh. ƒê·ªìng th·ªùi ƒë∆∞·ªùng trong t·∫ø b√†o ti·∫øt ra nu√¥i vi khu·∫©n lactic.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <div class="h-20"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Navigation
        function showSection(id) {
            document.querySelectorAll('#main-content > div > section').forEach(el => {
                el.classList.add('hidden'); el.classList.remove('animate-enter');
            });
            document.querySelectorAll('.nav-pill').forEach(el => el.classList.remove('active'));
            
            const target = document.getElementById('sec-' + id);
            target.classList.remove('hidden');
            void target.offsetWidth; target.classList.add('animate-enter');
            
            if(id === 'lab') { target.classList.add('flex'); target.classList.remove('hidden'); } 
            else { target.classList.remove('flex'); }
            
            if (id !== 'apply') toggleApplySlide(1);
            document.getElementById('btn-' + id).classList.add('active');
        }

        // Lab Tab Switcher
        function switchLabTab(tab) {
            ['diffusion', 'osmosis-basic', 'osmosis-cell'].forEach(t => {
                const btn = document.getElementById('tab-' + t);
                if(t === tab) { btn.classList.add('active'); btn.classList.remove('text-slate-400'); btn.classList.add('text-white'); }
                else { btn.classList.remove('active'); btn.classList.add('text-slate-400'); btn.classList.remove('text-white'); }
            });

            ['ctrl-diffusion', 'ctrl-osmosis-basic', 'ctrl-osmosis-cell'].forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById('ctrl-' + tab).classList.remove('hidden');

            ['view-diffusion', 'view-osmosis-basic', 'view-osmosis-cell'].forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById('view-' + tab).classList.remove('hidden');
            document.getElementById('view-' + tab).classList.add('flex');

            if (tab === 'diffusion') resetDiffusion();
            if (tab === 'osmosis-basic') resetOsmosisBasic();
        }

        // Diffusion
        function resetDiffusion() {
            const container = document.getElementById('diffusion-particles');
            container.innerHTML = '';
            document.getElementById('diff-label-left').innerText = "N·ªìng ƒë·ªô Cao";
            document.getElementById('diff-label-right').innerText = "N·ªìng ƒë·ªô Th·∫•p";

            for(let i=0; i<30; i++) {
                const dot = document.createElement('div');
                dot.className = 'molecule-particle static-jitter absolute w-5 h-5 bg-green-400 rounded-full shadow-[0_0_10px_#4ade80] border-2 border-white/20';
                dot.style.left = Math.random() * 45 + '%';
                dot.style.top = Math.random() * 85 + 5 + '%';
                dot.style.animationDelay = Math.random() + 's';
                container.appendChild(dot);
            }
        }
        function runDiffusion() {
            const dots = document.getElementById('diffusion-particles').children;
            for(let i=0; i<dots.length; i++) {
                dots[i].style.left = Math.random() * 90 + 5 + '%';
                dots[i].style.top = Math.random() * 85 + 5 + '%';
            }
            setTimeout(() => {
                document.getElementById('diff-label-left').innerText = "C√¢n b·∫±ng";
                document.getElementById('diff-label-right').innerText = "C√¢n b·∫±ng";
            }, 4000);
        }

        // Osmosis Basic
        function resetOsmosisBasic() {
            document.getElementById('water-left-beaker').style.height = '180px';
            document.getElementById('water-right-beaker').style.height = '180px';
            document.getElementById('osmosis-arrow').style.opacity = '0';
            drawBeakerMolecules();
        }
        function runOsmosisBasic() {
            document.getElementById('water-left-beaker').style.height = '100px'; 
            document.getElementById('water-right-beaker').style.height = '260px'; 
            document.getElementById('osmosis-arrow').style.opacity = '1';
        }
        function drawBeakerMolecules() {
            const left = document.getElementById('solutes-left-beaker');
            const right = document.getElementById('solutes-right-beaker');
            left.innerHTML = ''; right.innerHTML = '';
            for(let i=0; i<5; i++) {
                const dot = document.createElement('div');
                dot.className = 'absolute w-4 h-4 bg-green-400 rounded-full static-jitter opacity-80';
                dot.style.left = Math.random() * 80 + 10 + '%'; dot.style.top = Math.random() * 80 + 10 + '%';
                left.appendChild(dot);
            }
            for(let i=0; i<20; i++) {
                const dot = document.createElement('div');
                dot.className = 'absolute w-4 h-4 bg-green-400 rounded-full static-jitter opacity-80';
                dot.style.left = Math.random() * 80 + 10 + '%'; dot.style.top = Math.random() * 80 + 10 + '%';
                right.appendChild(dot);
            }
        }

        // Osmosis Cell
        function runLab(type) {
            const cellWrapper = document.getElementById('cell-wrapper');
            const cellNormal = document.getElementById('cell-normal');
            const cellCrenated = document.getElementById('cell-crenated-bg');
            const resultBox = document.getElementById('lab-result');
            
            cellWrapper.style.animation = 'none'; cellWrapper.style.transform = 'scale(1)'; cellWrapper.style.opacity = '1';
            cellNormal.style.display = 'flex'; cellCrenated.style.display = 'none'; cellCrenated.classList.remove('cell-crenated');
            void cellWrapper.offsetWidth;
            resultBox.classList.remove('hidden');
            
            drawMolecules(type); setTimeout(() => { animateExistingMolecules(type); }, 100);

            if(type === 'hyper') {
                cellWrapper.style.animation = 'morph-shrink 6s forwards';
                setTimeout(() => { cellNormal.style.display = 'none'; cellCrenated.style.display = 'block'; cellCrenated.classList.add('cell-crenated'); }, 5800); 
                resultBox.innerHTML = "<strong class='text-orange-400 block mb-2'>∆Øu tr∆∞∆°ng:</strong> N·ªìng ƒë·ªô ch·∫•t tan MT > Trong t·∫ø b√†o.<br>N∆∞·ªõc ƒëi RA ngo√†i.<br>T·∫ø b√†o m·∫•t n∆∞·ªõc v√† teo l·∫°i.";
            } else if(type === 'iso') {
                resultBox.innerHTML = "<strong class='text-green-400 block mb-2'>ƒê·∫≥ng tr∆∞∆°ng:</strong> N·ªìng ƒë·ªô ch·∫•t tan MT = Trong t·∫ø b√†o.<br>N∆∞·ªõc ra/v√†o c√¢n b·∫±ng.<br>T·∫ø b√†o b√¨nh th∆∞·ªùng.";
            } else if(type === 'hypo') {
                cellWrapper.style.animation = 'swell-burst 6s forwards';
                resultBox.innerHTML = "<strong class='text-blue-400 block mb-2'>Nh∆∞·ª£c tr∆∞∆°ng:</strong> N·ªìng ƒë·ªô ch·∫•t tan MT < Trong t·∫ø b√†o.<br>N∆∞·ªõc ƒëi V√ÄO trong.<br>T·∫ø b√†o tr∆∞∆°ng l√™n (v√† v·ª° n·∫øu l√† TB ƒë·ªông v·∫≠t).";
            }
        }

        function drawMolecules(type) {
            const container = document.getElementById('molecules-layer'); container.innerHTML = ''; 
            let outCounts = [0, 0], inCounts = [0, 0];
            if(type === 'hyper') { outCounts = [5, 8]; inCounts = [2, 12]; } 
            else if(type === 'iso') { outCounts = [4, 7]; inCounts = [4, 7]; } 
            else if(type === 'hypo') { outCounts = [3, 20]; inCounts = [10, 5]; }
            
            const placedPositions = [];
            const getPos = (isInside, particleRadius) => {
                let maxTries = 100, bestPos = {x: 50, y: 50}, foundSafe = false;
                while(maxTries > 0 && !foundSafe) {
                    const angle = Math.random() * Math.PI * 2;
                    let r = isInside ? Math.random() * 15 : 35 + Math.random() * 15;
                    const x = 50 + r * Math.cos(angle); const y = 50 + r * Math.sin(angle);
                    let collision = false;
                    for (let p of placedPositions) {
                        const dx = x - p.x; const dy = y - p.y;
                        if (Math.sqrt(dx*dx + dy*dy) < particleRadius + p.radius + 3) { collision = true; break; }
                    }
                    if (!collision) { bestPos = {x, y}; foundSafe = true; }
                    maxTries--;
                }
                return bestPos;
            };

            const spawn = (count, moleculeType, isInside) => {
                const pRadius = moleculeType === 'solute' ? 5 : 3;
                for(let i=0; i<count; i++) {
                    const dot = document.createElement('div');
                    dot.className = `molecule-particle absolute rounded-full static-jitter`;
                    if(moleculeType === 'solute') dot.classList.add('bg-green-500', 'w-6', 'h-6', 'shadow-[0_0_5px_#22c55e]'); 
                    else dot.classList.add('bg-blue-400', 'w-3', 'h-3'); 
                    const pos = getPos(isInside, pRadius);
                    placedPositions.push({x: pos.x, y: pos.y, radius: pRadius});
                    dot.style.left = pos.x + '%'; dot.style.top = pos.y + '%';
                    dot.dataset.loc = isInside ? 'in' : 'out'; dot.dataset.type = moleculeType; 
                    container.appendChild(dot);
                }
            };
            spawn(outCounts[0], 'solute', false); spawn(inCounts[0], 'solute', true); 
            spawn(outCounts[1], 'water', false); spawn(inCounts[1], 'water', true);
        }

        function animateExistingMolecules(type) {
            const particles = document.querySelectorAll('.molecule-particle');
            if (window.isoInterval) { clearInterval(window.isoInterval); window.isoInterval = null; }
            if (type === 'iso') {
                window.isoInterval = setInterval(() => {
                    const all = Array.from(document.querySelectorAll('.molecule-particle'));
                    const waterIn = all.filter(p => p.dataset.type === 'water' && p.dataset.loc === 'in');
                    const waterOut = all.filter(p => p.dataset.type === 'water' && p.dataset.loc === 'out');
                    if (Math.random() > 0.3 && waterIn.length > 0 && waterOut.length > 0) {
                         const pIn = waterIn[Math.floor(Math.random()*waterIn.length)], pOut = waterOut[Math.floor(Math.random()*waterOut.length)];
                         const angle = Math.random() * Math.PI * 2;
                         pIn.style.left = (50 + 35 * Math.cos(angle)) + '%'; pIn.style.top = (50 + 35 * Math.sin(angle)) + '%'; pIn.dataset.loc = 'out';
                         pOut.style.left = (50 + 10 * Math.cos(angle)) + '%'; pOut.style.top = (50 + 10 * Math.sin(angle)) + '%'; pOut.dataset.loc = 'in';
                    }
                }, 1500); 
                return;
            }
            particles.forEach(p => {
                if(p.dataset.type !== 'water') return; 
                const angle = Math.random() * Math.PI * 2;
                if(type === 'hyper' && p.dataset.loc === 'in') {
                    p.style.left = (50 + 35 * Math.cos(angle)) + '%'; p.style.top = (50 + 35 * Math.sin(angle)) + '%'; p.style.opacity = 0; 
                } else if(type === 'hypo' && p.dataset.loc === 'out') {
                    p.style.left = (50 + 10 * Math.cos(angle)) + '%'; p.style.top = (50 + 10 * Math.sin(angle)) + '%'; p.style.opacity = 0; 
                }
            });
        }

        function toggleObservation(id) {
            const el = document.getElementById('obs-' + id);
            el.classList.remove('hidden'); el.classList.add('animate-enter');
            setTimeout(() => el.classList.remove('animate-enter'), 1000);
            if(id === 'bowl2') { document.getElementById('salt-slice').style.transform = "scale(0.85) rotate(15deg)"; }
        }

        function toggleApplySlide(slideNum) {
            const s1 = document.getElementById('apply-slide-1'), s2 = document.getElementById('apply-slide-2');
            if(slideNum === 1) { s2.classList.add('hidden'); s1.classList.remove('hidden'); s1.classList.add('animate-enter'); } 
            else { s1.classList.add('hidden'); s2.classList.remove('hidden'); s2.classList.add('animate-enter'); }
        }

        function checkQuiz() {
            const answers = { q1: 'cao', q2: 'th·∫•p', q3: 'ch·ªß ƒë·ªông', q4: 'cao' }; // Simplified logic based on SGK text
            const fbBox = document.getElementById('quiz-feedback'); fbBox.classList.remove('hidden');
            
            const q1 = document.getElementById('q1').value, q2 = document.getElementById('q2').value;
            if (q1 === 'cao' && q2 === 'th·∫•p') {
                 fbBox.innerHTML = `<span class="text-green-600">üéâ ƒê√∫ng r·ªìi! Xu·∫•t s·∫Øc.</span>`;
            } else {
                 fbBox.innerHTML = `<span class="text-orange-600">üòÖ Th·ª≠ l·∫°i nh√©!</span>`;
            }
        }
        
        // Init
        showSection('intro');
        resetDiffusion();
        drawBeakerMolecules();
    </script>
</body>
</html>
